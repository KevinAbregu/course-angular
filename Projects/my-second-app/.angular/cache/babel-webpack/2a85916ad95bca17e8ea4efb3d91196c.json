{"ast":null,"code":"import { Ingredient } from \"src/shared/ingredient.model\";\nimport * as ShoppingListActions from \"./shopping-list.actions\";\nconst initialState = {\n  ingredients: [new Ingredient(\"Apples\", 5), new Ingredient(\"Tomatoes\", 10)],\n  editedIngredient: null,\n  editedIngredientIndex: -1\n};\nexport function shoppingListReducer(state = initialState, action) {\n  switch (action.type) {\n    case ShoppingListActions.ADD_INGREDIENT:\n      return Object.assign(Object.assign({}, state), {\n        ingredients: [...state.ingredients, action.payload]\n      });\n\n    case ShoppingListActions.ADD_INGREDIENTS:\n      return Object.assign(Object.assign({}, state), {\n        ingredients: [...state.ingredients, ...action.payload]\n      });\n\n    case ShoppingListActions.UPDATE_INGREDIENT:\n      let ingredient = state.ingredients[state.editedIngredientIndex];\n      let updatedIngredient = Object.assign(Object.assign({}, ingredient), action.payload);\n      let updatedIngredients = [...state.ingredients];\n      updatedIngredients[state.editedIngredientIndex] = updatedIngredient;\n      return Object.assign(Object.assign({}, state), {\n        ingredients: updatedIngredients,\n        editedIngredientIndex: -1,\n        editedIngredient: null\n      });\n\n    case ShoppingListActions.DELETE_INGREDIENT:\n      return Object.assign(Object.assign({}, state), {\n        ingredients: state.ingredients.filter((ig, index) => index !== state.editedIngredientIndex),\n        editedIngredientIndex: -1,\n        editedIngredient: null\n      });\n\n    case ShoppingListActions.START_EDIT:\n      return Object.assign(Object.assign({}, state), {\n        editedIngredientIndex: action.payload,\n        editedIngredient: Object.assign({}, state.ingredients[action.payload])\n      });\n\n    case ShoppingListActions.STOP_EDIT:\n      return Object.assign(Object.assign({}, state), {\n        editedIngredient: null,\n        editedIngredientIndex: -1\n      });\n\n    default:\n      return state;\n  }\n}","map":null,"metadata":{},"sourceType":"module"}